<title><%= "#{@abstract_model.try(:pretty_name) || @page_name} | #{[_get_plugin_name[0] || 'Rails', _get_plugin_name[1] || 'Admin'].join(' ')}" %></title>
<header class="header" data-model="<%= @abstract_model.to_param %>">
  <h1 class="me-auto mb-0"><%= @page_name %></h1>
  <% if _current_user %>
    <div class="dropdown">
      <button class="btn btn-current-user" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <div class="btn-current-user-details text-end text-truncate">
          <span class="btn-current-user-details text-truncate lh-sm" style="margin-top: 2px;">
            <% if _current_user.try(:name).present? %>
              <%= _current_user.name %>
            <% elsif _current_user.try(:email).present? %>
              <%= _current_user.email %>
            <% end %>
          </span>
        </div>
        <div class="tile-avatar flex-shrink-0"><i class="fa-solid fa-user tile-avatar-icon"></i></div>
      </button>
      <ul class="dropdown-menu dropdown-menu-end">
        <li class="dropdown-header"><%= _get_plugin_name[0] || 'Rails' %></li>
        <% if _current_user&.id && RailsAdmin::Config.models.any? { |c| c.abstract_model.model == _current_user.class } %>
          <li><%= link_to "My account", rails_admin.edit_path(model_name: _current_user.class.name.underscore.tr('/', '~'), id: _current_user.id), class: "dropdown-item" %></li>
        <% end %>
        <li><%= link_to "Log out", logout_path, method: logout_method, class: "dropdown-item", data: { turbo: 'false' } %></li>
      </ul>
    </div>
  <% end %>
  <!-- unless xl breakpoint -->
  <button class="navbar-toggler d-xl-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
    <i class="fa-solid fa-bars"></i>
  </button>
</header>
<ul class="nav nav-tabs">
  <%= menu_for((@abstract_model ? (@object.try(:persisted?) ? :member : :collection) : :root), @abstract_model, @object) %>
  <%= content_for :contextual_tabs %>
</ul>
<% flash && flash.each do |key, value| %>
  <div class="<%= flash_alert_class(key) %> alert">
    <%= value %>
  </div>
<% end %>
<%= yield %>
